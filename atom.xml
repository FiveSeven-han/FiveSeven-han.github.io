<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>FiveSeven</title>
  
  <subtitle>一个信息安全行业的成长者</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-03-26T17:47:36.959Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>FiveSeven</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>文件包含漏洞</title>
    <link href="http://example.com/2021/03/27/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E/"/>
    <id>http://example.com/2021/03/27/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E/</id>
    <published>2021-03-26T16:27:11.304Z</published>
    <updated>2021-03-26T17:47:36.959Z</updated>
    
    <content type="html"><![CDATA[<p>文件包含漏洞存在于含有大量交互功能的站点，为了实现单一文件在不同页面的重复使用，利用文件包含的方式，将本地可以被重复的文件利用包含函数在当前页面中执行。那么，一个页面有这种功能，并且在包含的过程中，北包含的文件名可以通过参数的方式被用户控制，那么就可能存在文件包含漏洞。<br>当PHP函数引入文件时，没有合理校验传入的文件名，进而操作了预想之外的文件，导致意外的文件泄露或者恶意代码注入。<br>PHP文件包含漏洞分为本地文件包含漏洞和远程文件包含漏洞。<br>在PHP环境下，可利用include、require、include_ once 、require_ once函数调用文件，实现文件包含的效果。一般情况下，均会利用include实现对配置、通用函数的加载，实现代码的复用，并且可使站点的结构非常清晰。但在部分情况下会利用包含函数实现对特定文件的包含，如用户上传的文件需展示等。在这种情况下，包含函数所引用的文件地点及类型可被用户控制，从而产生了文件包含攻击的可能性。</p>        <h2 id="漏洞原理">          <a href="#漏洞原理" class="heading-link"><i class="fas fa-link"></i></a><a href="#漏洞原理" class="headerlink" title="漏洞原理"></a>漏洞原理</h2>      <figure class="highlight plain"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">文件包含漏洞是代码注入的一种，原理就是注入一段用户能控制的脚本或代码，并让服务器一某种方式执行用传入参数。就导致文件包含漏洞可悲利用的一种方式为WEB 木马利用各种方式部署在服务器上，并且木马文件或源码可被攻击者利用包含函数打开，导致WEB木马北执行。</span><br><span class="line"></span><br><span class="line">## 攻击需要满足的条件</span><br></pre></td></tr></table></div></figure><p>（1）WEB应用采用include（）等文件包含函数，并且需要包含的文件路径是通过用户传输参数的方式引入。<br>（2）用户能够控制包含文件的参数，且被包含的文件路径可被当前页面访问，</p>        <h3 id="服务器端功能的实现代码">          <a href="#服务器端功能的实现代码" class="heading-link"><i class="fas fa-link"></i></a><a href="#服务器端功能的实现代码" class="headerlink" title="服务器端功能的实现代码"></a>服务器端功能的实现代码</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="variable">$file</span>=<span class="variable">$_GET</span>[<span class="string">&quot;file&quot;</span>];</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$file</span>)&#123;</span><br><span class="line">   include(<span class="variable">$file</span>);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></div></figure><p>当页面通过GET方式获得用户传入的file参数，并在获得$file后，没有进行热河过滤就对file给出的地址进行包含。</p>        <h3 id="file参数">          <a href="#file参数" class="heading-link"><i class="fas fa-link"></i></a><a href="#file参数" class="headerlink" title="file参数"></a>file参数</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./phpinfo.php</span><br></pre></td></tr></table></div></figure><p>服务器会执行 include(./phpinfo.php)<br>phpinfo可以输出大量当前服务器信息，包含对应版本、操作系统信息、绝对路径、中间件类型等。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;文件包含漏洞存在于含有大量交互功能的站点，为了实现单一文件在不同页面的重复使用，利用文件包含的方式，将本地可以被重复的文件利用包含函数在当前页面中执行。那么，一个页面有这种功能，并且在包含的过程中，北包含的文件名可以通过参数的方式被用户控制，那么就可能存在文件包含漏洞。&lt;b</summary>
      
    
    
    
    <category term="漏洞原理" scheme="http://example.com/categories/%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86/"/>
    
    
    <category term="漏洞原理" scheme="http://example.com/tags/%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>XML外部实体注入</title>
    <link href="http://example.com/2021/03/26/XML%E5%A4%96%E9%83%A8%E5%AE%9E%E4%BD%93%E6%B3%A8%E5%85%A5/"/>
    <id>http://example.com/2021/03/26/XML%E5%A4%96%E9%83%A8%E5%AE%9E%E4%BD%93%E6%B3%A8%E5%85%A5/</id>
    <published>2021-03-26T09:13:53.646Z</published>
    <updated>2021-03-26T17:11:27.576Z</updated>
    
    <content type="html"><![CDATA[<p>XML本身是一种类似于txt、Excel的文件类型 。当服务器程序在解析XML文件的时候，若XML文件里存在访问系统敏感文件的XML命令语句，就非常危险了。攻击者通过客户端注入一些操纵敏感文件及执行系统命令的XML语句到服务器中的XML文件里。服务器程序就会解析该XML文件并将解析的结果返回给用户。攻击者就达到了获取服务器上敏感文件的内容及执行系统命令的目的。</p>        <h2 id="原理举例">          <a href="#原理举例" class="heading-link"><i class="fas fa-link"></i></a><a href="#原理举例" class="headerlink" title="原理举例"></a>原理举例</h2>              <h3 id="攻击者在客户端构造语句">          <a href="#攻击者在客户端构造语句" class="heading-link"><i class="fas fa-link"></i></a><a href="#攻击者在客户端构造语句" class="headerlink" title="攻击者在客户端构造语句"></a>攻击者在客户端构造语句</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>  encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="line">&lt;!DOCTYPE xxe                                                 &lt;--定义变量xxe--&gt;</span><br><span class="line">[&lt;!ELEMENT name ANY&gt;</span><br><span class="line">&lt;!ENTITY  xxe  SYSTEM <span class="string">&quot;file:///etc/passswd&quot;</span>&gt;   &lt;--将变量xxe赋值为SYSTEM <span class="string">&quot;file:///etc/passswd&quot;</span>--&gt;</span><br><span class="line">]</span><br><span class="line">&gt;</span><br><span class="line">&lt;root&gt;&lt;name&gt;&amp;xxe;&lt;/name&gt;&lt;/root&gt;             &lt;--通过&amp;xxe输出变量xxe中的值--&gt;</span><br></pre></td></tr></table></div></figure><p>如果这个构造语句已经被攻击者注入服务器上的某个XML文件中，服务器程序在解析的时候，XML文件里的system函数就会读取/etc/passwd文件的内容，如果是系统命令的话就执行系统命令。</p>        <h3 id="服务器程序解析XML文件转化为下面的代码">          <a href="#服务器程序解析XML文件转化为下面的代码" class="heading-link"><i class="fas fa-link"></i></a><a href="#服务器程序解析XML文件转化为下面的代码" class="headerlink" title="服务器程序解析XML文件转化为下面的代码"></a>服务器程序解析XML文件转化为下面的代码</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="variable">$xml</span>=simplexml_load_file(<span class="string">&quot;xxe.xml&quot;</span>);</span><br><span class="line">print_r(<span class="variable">$xml</span>);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></div></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;XML本身是一种类似于txt、Excel的文件类型 。当服务器程序在解析XML文件的时候，若XML文件里存在访问系统敏感文件的XML命令语句，就非常危险了。攻击者通过客户端注入一些操纵敏感文件及执行系统命令的XML语句到服务器中的XML文件里。服务器程序就会解析该XML文件</summary>
      
    
    
    
    <category term="漏洞原理" scheme="http://example.com/categories/%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86/"/>
    
    
    <category term="漏洞原理" scheme="http://example.com/tags/%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>学习笔记</title>
    <link href="http://example.com/2021/03/01/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://example.com/2021/03/01/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
    <published>2021-02-28T17:49:02.074Z</published>
    <updated>2021-03-26T17:10:52.294Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <span class="exturl"><a class="exturl__link" href="https://hexo.io/">Hexo</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>! This is your very first post. Check <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/">documentation</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> for more info. If you get any problems when using Hexo, you can find the answer in <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> or you can ask me on <span class="exturl"><a class="exturl__link" href="https://github.com/hexojs/hexo/issues">GitHub</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>        <h2 id="Quick-Start">          <a href="#Quick-Start" class="heading-link"><i class="fas fa-link"></i></a><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2>              <h3 id="Create-a-new-post">          <a href="#Create-a-new-post" class="heading-link"><i class="fas fa-link"></i></a><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></div></figure><p>More info: <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/writing.html">Writing</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>        <h3 id="Run-server">          <a href="#Run-server" class="heading-link"><i class="fas fa-link"></i></a><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></div></figure><p>More info: <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/server.html">Server</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>        <h3 id="Generate-static-files">          <a href="#Generate-static-files" class="heading-link"><i class="fas fa-link"></i></a><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></div></figure><p>More info: <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/generating.html">Generating</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>        <h3 id="Deploy-to-remote-sites">          <a href="#Deploy-to-remote-sites" class="heading-link"><i class="fas fa-link"></i></a><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></div></figure><p>More info: <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;span class=&quot;exturl&quot;&gt;&lt;a class=&quot;exturl__link&quot; href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;&lt;span class=&quot;exturl__icon&quot;&gt;&lt;i class=&quot;fas fa-exter</summary>
      
    
    
    
    <category term="你好，博客" scheme="http://example.com/categories/%E4%BD%A0%E5%A5%BD%EF%BC%8C%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="你好，博客" scheme="http://example.com/tags/%E4%BD%A0%E5%A5%BD%EF%BC%8C%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://example.com/2021/03/01/hello-world/"/>
    <id>http://example.com/2021/03/01/hello-world/</id>
    <published>2021-02-28T16:37:14.014Z</published>
    <updated>2021-03-26T17:09:20.483Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <span class="exturl"><a class="exturl__link" href="https://hexo.io/">Hexo</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>! This is your very first post. Check <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/">documentation</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> for more info. If you get any problems when using Hexo, you can find the answer in <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> or you can ask me on <span class="exturl"><a class="exturl__link" href="https://github.com/hexojs/hexo/issues">GitHub</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>.</p>        <h2 id="Quick-Start">          <a href="#Quick-Start" class="heading-link"><i class="fas fa-link"></i></a><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2>              <h3 id="Create-a-new-post">          <a href="#Create-a-new-post" class="heading-link"><i class="fas fa-link"></i></a><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></div></figure><p>More info: <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/writing.html">Writing</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>        <h3 id="Run-server">          <a href="#Run-server" class="heading-link"><i class="fas fa-link"></i></a><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></div></figure><p>More info: <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/server.html">Server</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>        <h3 id="Generate-static-files">          <a href="#Generate-static-files" class="heading-link"><i class="fas fa-link"></i></a><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></div></figure><p>More info: <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/generating.html">Generating</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>        <h3 id="Deploy-to-remote-sites">          <a href="#Deploy-to-remote-sites" class="heading-link"><i class="fas fa-link"></i></a><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3>      <figure class="highlight bash"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></div></figure><p>More info: <span class="exturl"><a class="exturl__link" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;span class=&quot;exturl&quot;&gt;&lt;a class=&quot;exturl__link&quot; href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;&lt;span class=&quot;exturl__icon&quot;&gt;&lt;i class=&quot;fas fa-exter</summary>
      
    
    
    
    <category term="你好，博客" scheme="http://example.com/categories/%E4%BD%A0%E5%A5%BD%EF%BC%8C%E5%8D%9A%E5%AE%A2/"/>
    
    
    <category term="你好，博客" scheme="http://example.com/tags/%E4%BD%A0%E5%A5%BD%EF%BC%8C%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
</feed>
